<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>brightwind.load.load.apply_cleaning &#8212; brightwind  documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          brightwind</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../index.html">Home</a></li>
                <li><a href="../tutorials.html">Tutorials</a></li>
                <li><a href="../api.html">API</a></li>
                <li><a href="../community.html">Community</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">brightwind.load.load.apply_cleaning</a></li>
</ul>

        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="brightwind-load-load-apply-cleaning">
<h1>brightwind.load.load.apply_cleaning<a class="headerlink" href="#brightwind-load-load-apply-cleaning" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="brightwind.load.load.apply_cleaning">
<code class="descclassname">brightwind.load.load.</code><code class="descname">apply_cleaning</code><span class="sig-paren">(</span><em>data</em>, <em>cleaning_file_or_df</em>, <em>sensor_col_name='Sensor'</em>, <em>date_from_col_name='Start'</em>, <em>date_to_col_name='Stop'</em>, <em>all_sensors_descriptor='All'</em>, <em>replacement_text='NaN'</em><span class="sig-paren">)</span><a class="headerlink" href="#brightwind.load.load.apply_cleaning" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply cleaning to a DataFrame using predetermined flagged periods for each sensor listed in a cleaning file.
The flagged data will be replaced with NaN values which then do not appear in any plots or effect calculations.</p>
<p>This file is a simple comma separated file with the sensor name along with the start and end timestamps for the
flagged period. There may be other columns in the file however these will be ignores.  E.g.:
| Sensor |      Start          |       Stop
—————————————————-
| Spd80m | 2018-10-23 12:30:00 | 2018-10-25 14:20:00
| Dir78m | 2018-12-23 02:40:00 |</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas.DataFrame</em>) – Data to be cleaned.</p></li>
<li><p><strong>cleaning_file_or_df</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>pd.DataFrame</em>) – File path of the csv file or a pandas DataFrame which contains the list of sensor
names along with the start and end timestamps of the periods that are flagged.</p></li>
<li><p><strong>sensor_col_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>default 'Sensor'</em>) – The column name which contains the list of sensor names that have flagged periods.</p></li>
<li><p><strong>date_from_col_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>default 'Start'</em>) – The column name of the date_from or the start date of the period to be cleaned.</p></li>
<li><p><strong>date_to_col_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>default 'Stop'</em>) – The column name of the date_to or the end date of the period to be cleaned.</p></li>
<li><p><strong>all_sensors_descriptor</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>default 'All'</em>) – A text descriptor that represents ALL sensors in the DataFrame.</p></li>
<li><p><strong>replacement_text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>default 'NaN'</em>) – Text used to replace the flagged data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame with the flagged data removed.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
<p><strong>Example usage</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">brightwind</span> <span class="k">as</span> <span class="nn">bw</span>
<span class="n">cleaning_file</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;C:\some\folder\cleaning_file.csv&#39;</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">bw</span><span class="o">.</span><span class="n">load_campbell_scientific</span><span class="p">(</span><span class="n">bw</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">demo_campbell_scientific_site_data</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">bw</span><span class="o">.</span><span class="n">apply_cleaning</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cleaning_file</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>To apply cleaning where the cleaning file has column names other than defaults:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cleaning_file</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;C:\some\folder\cleaning_file.csv&#39;</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">bw</span><span class="o">.</span><span class="n">apply_cleaning</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cleaning_file</span><span class="p">,</span> <span class="n">sensor_col_name</span><span class="o">=</span><span class="s1">&#39;Data column&#39;</span><span class="p">,</span>
                         <span class="n">date_from_col_name</span><span class="o">=</span><span class="s1">&#39;Start Time&#39;</span><span class="p">,</span> <span class="n">date_to_col_name</span><span class="o">=</span><span class="s1">&#39;Stop Time&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, BrightWind Analysis.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>