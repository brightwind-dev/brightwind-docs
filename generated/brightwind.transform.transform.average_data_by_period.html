<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>brightwind.transform.transform.average_data_by_period &#8212; brightwind  documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          brightwind</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../index.html">Home</a></li>
                <li><a href="../tutorials/tutorial_welcome.html">Tutorials</a></li>
                <li><a href="../api.html">API</a></li>
                <li><a href="../community.html">Community</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">brightwind.transform.transform.average_data_by_period</a></li>
</ul>

        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <div class="section" id="brightwind-transform-transform-average-data-by-period">
<h1>brightwind.transform.transform.average_data_by_period<a class="headerlink" href="#brightwind-transform-transform-average-data-by-period" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="brightwind.transform.transform.average_data_by_period">
<code class="sig-prename descclassname">brightwind.transform.transform.</code><code class="sig-name descname">average_data_by_period</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">period</em>, <em class="sig-param">aggregation_method='mean'</em>, <em class="sig-param">coverage_threshold=None</em>, <em class="sig-param">return_coverage=False</em><span class="sig-paren">)</span><a class="headerlink" href="#brightwind.transform.transform.average_data_by_period" title="Permalink to this definition">¶</a></dt>
<dd><p>Averages the data by the time period specified by period.</p>
<p>Aggregates data by the aggregation_method specified, by default this function averages the data to the period 
specified. Can be used to find hourly, daily, weekly, etc. averages or sums. Can also return coverage and 
filter the returned data by coverage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas.Series</em>) – Data to find average or aggregate of</p></li>
<li><p><strong>period</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><em>pandas.DateOffset</em>) – <p>Groups data by the period specified here. The following formats are supported</p>
<ul>
<li><p>Set period to 10min for 10 minute average, 20min for 20 minute average and so on for 4min, 15min, etc.</p></li>
<li><p>Set period to 1H for hourly average, 3H for three hourly average and so on for 5H, 6H etc.</p></li>
<li><p>Set period to 1D for a daily average, 3D for three day average, similarly 5D, 7D, 15D etc.</p></li>
<li><p>Set period to 1W for a weekly average, 3W for three week average, similarly 2W, 4W etc.</p></li>
<li><p>Set period to 1M for monthly average</p></li>
<li><p>Set period to 1AS fo annual average</p></li>
<li><p>Can be a DateOffset object too</p></li>
</ul>
</p></li>
<li><p><strong>aggregation_method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Default <cite>mean</cite>, returns the mean of the data for the specified period. Can also use
<cite>median</cite>, <cite>prod</cite>, <cite>sum</cite>, <cite>std</cite>,`var`, <cite>max</cite>, <cite>min</cite> which are shorthands for median, product, summation,
standard deviation, variance, maximum and minimum respectively.</p></li>
<li><p><strong>coverage_threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Coverage is defined as the ratio of number of data points present in the period and the 
maximum number of data points that a period should have. Example, for 10 minute data resolution and a period of 
1 hour, the maximum number of data points in one period is 6. But if the number if data points available is only
3 for that hour the coverage is 3/6=0.5. It should be greater than 0 and less than or equal to 1. It is set to 
None by default. If it is None or 0, data is not filtered. Otherwise periods are removed where coverage is less 
than the coverage_threshold are removed.</p></li>
<li><p><strong>return_coverage</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If True appends and additional column in the DataFrame returned, with coverage calculated
for each period. The columns with coverage are named as &lt;column name&gt;_Coverage</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with data aggregated with the specified aggregation_method (mean by default). Additionally it
could be filtered based on coverage and have a coverage column depending on the parameters.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p><strong>Example usage</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">brightwind</span> <span class="k">as</span> <span class="nn">bw</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">bw</span><span class="o">.</span><span class="n">load_campbell_scientific</span><span class="p">(</span><span class="n">bw</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">demo_campbell_scientific_site_data</span><span class="p">)</span>

<span class="c1">#To find hourly averages</span>
<span class="n">data_hourly</span> <span class="o">=</span> <span class="n">bw</span><span class="o">.</span><span class="n">average_data_by_period</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Spd80mN</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="s1">&#39;1H&#39;</span><span class="p">)</span>

<span class="c1">#To find monthly averages</span>
<span class="n">data_monthly</span> <span class="o">=</span> <span class="n">bw</span><span class="o">.</span><span class="n">average_data_by_period</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Spd80mN</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="s1">&#39;1M&#39;</span><span class="p">)</span>

<span class="c1">#To filter months where half of the data is missing</span>
<span class="n">data_monthly_filtered</span> <span class="o">=</span> <span class="n">bw</span><span class="o">.</span><span class="n">average_data_by_period</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Spd80mN</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="s1">&#39;1M&#39;</span><span class="p">,</span> <span class="n">coverage_threshold</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1">#To check the coverage for all months</span>
<span class="n">data_monthly_filtered</span> <span class="o">=</span> <span class="n">bw</span><span class="o">.</span><span class="n">average_data_by_period</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Spd80mN</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="s1">&#39;1M&#39;</span><span class="p">,</span> <span class="n">return_coverage</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, BrightWind Analysis.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>