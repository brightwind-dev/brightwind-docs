<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>How to plot and understand turbulence using the brightwind library &#8212; brightwind  documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          brightwind</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../index.html">Home</a></li>
                <li><a href="tutorial_welcome.html">Tutorials</a></li>
                <li><a href="../api.html">API</a></li>
                <li><a href="../community.html">Community</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">How to plot and understand turbulence using the brightwind library</a><ul>
<li><a class="reference internal" href="#Outline:">Outline:</a><ul>
<li><a class="reference internal" href="#Load-some-data">Load some data</a></li>
<li><a class="reference internal" href="#Plot-the-turbulence-intensity-by-direction">Plot the turbulence intensity by direction</a></li>
<li><a class="reference internal" href="#Calculate-the-turbulence-intensity-and-plot-by-wind-speed">Calculate the turbulence intensity and plot by wind speed</a></li>
<li><a class="reference internal" href="#Getting-the-12x24-matrix-of-turbulence">Getting the 12x24 matrix of turbulence</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 7ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<center><div class="section" id="How-to-plot-and-understand-turbulence-using-the-brightwind-library">
<h1>How to plot and understand turbulence using the brightwind library<a class="headerlink" href="#How-to-plot-and-understand-turbulence-using-the-brightwind-library" title="Permalink to this headline">¶</a></h1>
</center><hr class="docutils" />
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Last updated: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1"> %B, %Y&#39;</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Last updated: 03 July, 2019
</pre></div></div>
</div>
<hr class="docutils" />
<div style="margin-top: 3em; margin-bottom: 3em;"></div><div class="section" id="Outline:">
<h2>Outline:<a class="headerlink" href="#Outline:" title="Permalink to this headline">¶</a></h2>
<p>This guide will demonstrate how to get some useful turbulence intensity statistics from a sample dataset using the following steps:</p>
<ul class="simple">
<li><p>Import the brightwind library and some sample data</p></li>
<li><p>Plot the turbulence intensity by direction</p></li>
<li><p>Clean out some bad data and replot the turbulence intensity</p></li>
<li><p>Plot the turbulence intensity by windspeed and get access to the underlying data</p></li>
<li><p>Calculate a 12x24 matrix of turbulence intensity</p></li>
</ul>
<hr class="docutils" />
<div style="margin-top: 3em; margin-bottom: 3em;"></div><div class="section" id="Load-some-data">
<h3>Load some data<a class="headerlink" href="#Load-some-data" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">brightwind</span> <span class="k">as</span> <span class="nn">bw</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># specify file location of existing sample dataset</span>
<span class="n">filepath</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;C:\Users\Stephen\Documents\Analysis\demo_data.csv&#39;</span>
<span class="c1"># load data into a dataframe</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">bw</span><span class="o">.</span><span class="n">load_csv</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
<span class="c1"># show first few rows of dataframe</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Spd80mN</th>
      <th>Spd80mS</th>
      <th>Spd60mN</th>
      <th>Spd60mS</th>
      <th>Spd40mN</th>
      <th>Spd40mS</th>
      <th>Spd80mNStd</th>
      <th>Spd80mSStd</th>
      <th>Spd60mNStd</th>
      <th>Spd60mSStd</th>
      <th>...</th>
      <th>Dir78mSStd</th>
      <th>Dir58mS</th>
      <th>Dir58mSStd</th>
      <th>Dir38mS</th>
      <th>Dir38mSStd</th>
      <th>T2m</th>
      <th>RH2m</th>
      <th>P2m</th>
      <th>PrcpTot</th>
      <th>BattMin</th>
    </tr>
    <tr>
      <th>Timestamp</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2016-01-09 15:30:00</th>
      <td>8.370</td>
      <td>7.911</td>
      <td>8.160</td>
      <td>7.849</td>
      <td>7.857</td>
      <td>7.626</td>
      <td>1.240</td>
      <td>1.075</td>
      <td>1.060</td>
      <td>0.947</td>
      <td>...</td>
      <td>6.100</td>
      <td>110.1</td>
      <td>6.009</td>
      <td>112.2</td>
      <td>5.724</td>
      <td>0.711</td>
      <td>100.0</td>
      <td>935.0</td>
      <td>0.0</td>
      <td>12.94</td>
    </tr>
    <tr>
      <th>2016-01-09 15:40:00</th>
      <td>8.250</td>
      <td>7.961</td>
      <td>8.100</td>
      <td>7.884</td>
      <td>7.952</td>
      <td>7.840</td>
      <td>0.897</td>
      <td>0.875</td>
      <td>0.900</td>
      <td>0.855</td>
      <td>...</td>
      <td>5.114</td>
      <td>110.9</td>
      <td>4.702</td>
      <td>109.8</td>
      <td>5.628</td>
      <td>0.630</td>
      <td>100.0</td>
      <td>935.0</td>
      <td>0.0</td>
      <td>12.95</td>
    </tr>
    <tr>
      <th>2016-01-09 17:00:00</th>
      <td>7.652</td>
      <td>7.545</td>
      <td>7.671</td>
      <td>7.551</td>
      <td>7.531</td>
      <td>7.457</td>
      <td>0.756</td>
      <td>0.703</td>
      <td>0.797</td>
      <td>0.749</td>
      <td>...</td>
      <td>4.172</td>
      <td>113.1</td>
      <td>3.447</td>
      <td>111.8</td>
      <td>4.016</td>
      <td>1.126</td>
      <td>100.0</td>
      <td>934.0</td>
      <td>0.0</td>
      <td>12.75</td>
    </tr>
    <tr>
      <th>2016-01-09 17:10:00</th>
      <td>7.382</td>
      <td>7.325</td>
      <td>6.818</td>
      <td>6.689</td>
      <td>6.252</td>
      <td>6.174</td>
      <td>0.844</td>
      <td>0.810</td>
      <td>0.897</td>
      <td>0.875</td>
      <td>...</td>
      <td>4.680</td>
      <td>118.8</td>
      <td>5.107</td>
      <td>115.6</td>
      <td>5.189</td>
      <td>0.954</td>
      <td>100.0</td>
      <td>934.0</td>
      <td>0.0</td>
      <td>12.71</td>
    </tr>
    <tr>
      <th>2016-01-09 17:20:00</th>
      <td>7.977</td>
      <td>7.791</td>
      <td>8.110</td>
      <td>7.915</td>
      <td>8.140</td>
      <td>7.974</td>
      <td>0.556</td>
      <td>0.528</td>
      <td>0.562</td>
      <td>0.524</td>
      <td>...</td>
      <td>3.123</td>
      <td>115.9</td>
      <td>2.960</td>
      <td>113.6</td>
      <td>3.540</td>
      <td>0.863</td>
      <td>100.0</td>
      <td>934.0</td>
      <td>0.0</td>
      <td>12.69</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 29 columns</p>
</div></div>
</div>
<div style="margin-top: 3em; margin-bottom: 3em;"></div></div>
<div class="section" id="Plot-the-turbulence-intensity-by-direction">
<h3>Plot the turbulence intensity by direction<a class="headerlink" href="#Plot-the-turbulence-intensity-by-direction" title="Permalink to this headline">¶</a></h3>
<p>Plotting the turbulence intensity (TI) by direction is a good visual check to see if there are any particular sectors that are seeing more turbulence than others, or indeed to find any issues that were missed during cleaning. Here we plot the TI by sector using the average 10-min wind speed from the 80m anemometer, along with the standard deviation of the same instrument and the direction from the 78m wind vane.</p>
<div style="margin-top: 3em; margin-bottom: 3em;"></div><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">bw</span><span class="o">.</span><span class="n">TI</span><span class="o">.</span><span class="n">by_sector</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Spd80mN</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">Spd80mNStd</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">Dir78mS</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorials_plotting_and_understanding_turbulence_8_0.png" src="../_images/tutorials_plotting_and_understanding_turbulence_8_0.png" />
</div>
</div>
<p>We can see a thick black line running along at 200 degrees. This would indicate that the wind vane was stuck for a long period of time and was not cleaned out. Using the cleaning methodology as outlined in <a class="reference external" href="https://brightwind-dev.github.io/brightwind-docs/tutorials/how_to_apply_a_cleaning_file.html">Tutorial 5</a>, we clean the data and then replot the data.</p>
<div style="margin-top: 3em; margin-bottom: 3em;"></div><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># specify location of existing cleaning file</span>
<span class="n">Cleaning_Filepath</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;C:\Users\Stephen\Documents\Analysis\demo_cleaning_file.csv&#39;</span>
<span class="c1">#Apply cleaning file to Raw Data</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">bw</span><span class="o">.</span><span class="n">apply_cleaning</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">Cleaning_Filepath</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Cleaning applied. (Please remember to assign the cleaned returned DataFrame to a variable.)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">bw</span><span class="o">.</span><span class="n">TI</span><span class="o">.</span><span class="n">by_sector</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Spd80mN</span><span class="p">,</span><span class="n">data</span><span class="o">.</span><span class="n">Spd80mNStd</span><span class="p">,</span><span class="n">data</span><span class="o">.</span><span class="n">Dir78mS</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorials_plotting_and_understanding_turbulence_11_0.png" src="../_images/tutorials_plotting_and_understanding_turbulence_11_0.png" />
</div>
</div>
<p>Wollah! the bad data has been cleaned out.</p>
<hr class="docutils" />
<div style="margin-top: 3em; margin-bottom: 3em;"></div></div>
<div class="section" id="Calculate-the-turbulence-intensity-and-plot-by-wind-speed">
<h3>Calculate the turbulence intensity and plot by wind speed<a class="headerlink" href="#Calculate-the-turbulence-intensity-and-plot-by-wind-speed" title="Permalink to this headline">¶</a></h3>
<p>Understanding the turbulence intensity by wind speed is an important metric when evaluating the site conditions of a potential wind farm site. The brightwind library has a function to compute this and plot against the IEC Turbulence classes and the mean and representative turbulence intensity. The mean speed and the standard deviation of the same mean speed are passed into the following function.</p>
<div style="margin-top: 3em; margin-bottom: 3em;"></div><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">bw</span><span class="o">.</span><span class="n">TI</span><span class="o">.</span><span class="n">by_speed</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Spd80mN</span><span class="p">,</span><span class="n">data</span><span class="o">.</span><span class="n">Spd80mNStd</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorials_plotting_and_understanding_turbulence_15_0.png" src="../_images/tutorials_plotting_and_understanding_turbulence_15_0.png" />
</div>
</div>
<p>Returning the exact data from the plot can be useful especially when looking to extract inputs for turbulence intensity in Windfarmer or Openwind. To do this, we simply need to assign a plot and table to the function, and activiate the return_data flag within the function.</p>
<div style="margin-top: 3em; margin-bottom: 3em;"></div><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">TI_plot</span><span class="p">,</span> <span class="n">TI_Table</span> <span class="o">=</span> <span class="n">bw</span><span class="o">.</span><span class="n">TI</span><span class="o">.</span><span class="n">by_speed</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Spd80mN</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">Spd80mNStd</span><span class="p">,</span> <span class="n">return_data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">TI_Table</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Mean_TI</th>
      <th>TI_Count</th>
      <th>Rep_TI</th>
      <th>TI_2Sigma</th>
      <th>Char_TI</th>
    </tr>
    <tr>
      <th>Speed Bin</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>0.171291</td>
      <td>3429</td>
      <td>0.255260</td>
      <td>0.066981</td>
      <td>0.193619</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.157540</td>
      <td>7963</td>
      <td>0.234453</td>
      <td>0.061226</td>
      <td>0.172846</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.144822</td>
      <td>8852</td>
      <td>0.213788</td>
      <td>0.054829</td>
      <td>0.155787</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.136418</td>
      <td>9519</td>
      <td>0.198752</td>
      <td>0.049315</td>
      <td>0.144637</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.132567</td>
      <td>9594</td>
      <td>0.191380</td>
      <td>0.045464</td>
      <td>0.139062</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0.130207</td>
      <td>8915</td>
      <td>0.185284</td>
      <td>0.043492</td>
      <td>0.135643</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.128533</td>
      <td>7631</td>
      <td>0.179356</td>
      <td>0.040206</td>
      <td>0.133000</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0.127061</td>
      <td>6383</td>
      <td>0.174785</td>
      <td>0.037214</td>
      <td>0.130782</td>
    </tr>
    <tr>
      <th>11</th>
      <td>0.124160</td>
      <td>5240</td>
      <td>0.169697</td>
      <td>0.035074</td>
      <td>0.127349</td>
    </tr>
    <tr>
      <th>12</th>
      <td>0.122585</td>
      <td>4248</td>
      <td>0.163811</td>
      <td>0.033470</td>
      <td>0.125374</td>
    </tr>
    <tr>
      <th>13</th>
      <td>0.122528</td>
      <td>3315</td>
      <td>0.164814</td>
      <td>0.032269</td>
      <td>0.125011</td>
    </tr>
    <tr>
      <th>14</th>
      <td>0.122377</td>
      <td>2582</td>
      <td>0.162472</td>
      <td>0.030658</td>
      <td>0.124566</td>
    </tr>
    <tr>
      <th>15</th>
      <td>0.122358</td>
      <td>1933</td>
      <td>0.161577</td>
      <td>0.030678</td>
      <td>0.124403</td>
    </tr>
    <tr>
      <th>16</th>
      <td>0.121319</td>
      <td>1366</td>
      <td>0.160051</td>
      <td>0.029988</td>
      <td>0.123193</td>
    </tr>
    <tr>
      <th>17</th>
      <td>0.120240</td>
      <td>904</td>
      <td>0.157809</td>
      <td>0.028919</td>
      <td>0.121941</td>
    </tr>
    <tr>
      <th>18</th>
      <td>0.123028</td>
      <td>536</td>
      <td>0.162825</td>
      <td>0.029853</td>
      <td>0.124687</td>
    </tr>
    <tr>
      <th>19</th>
      <td>0.126564</td>
      <td>290</td>
      <td>0.167137</td>
      <td>0.030823</td>
      <td>0.128187</td>
    </tr>
    <tr>
      <th>20</th>
      <td>0.125273</td>
      <td>173</td>
      <td>0.160253</td>
      <td>0.026733</td>
      <td>0.126610</td>
    </tr>
    <tr>
      <th>21</th>
      <td>0.130887</td>
      <td>106</td>
      <td>0.163101</td>
      <td>0.023450</td>
      <td>0.132004</td>
    </tr>
    <tr>
      <th>22</th>
      <td>0.129061</td>
      <td>81</td>
      <td>0.156819</td>
      <td>0.022860</td>
      <td>0.130100</td>
    </tr>
    <tr>
      <th>23</th>
      <td>0.133793</td>
      <td>43</td>
      <td>0.167104</td>
      <td>0.025800</td>
      <td>0.134915</td>
    </tr>
    <tr>
      <th>24</th>
      <td>0.130379</td>
      <td>20</td>
      <td>0.188619</td>
      <td>0.033714</td>
      <td>0.131784</td>
    </tr>
    <tr>
      <th>25</th>
      <td>0.139906</td>
      <td>12</td>
      <td>0.171210</td>
      <td>0.033942</td>
      <td>0.141264</td>
    </tr>
    <tr>
      <th>26</th>
      <td>0.114279</td>
      <td>5</td>
      <td>0.138046</td>
      <td>0.025467</td>
      <td>0.115259</td>
    </tr>
    <tr>
      <th>27</th>
      <td>0.133005</td>
      <td>4</td>
      <td>0.141158</td>
      <td>0.010494</td>
      <td>0.133394</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<hr class="docutils" />
<div style="margin-top: 3em; margin-bottom: 3em;"></div></div>
<div class="section" id="Getting-the-12x24-matrix-of-turbulence">
<h3>Getting the 12x24 matrix of turbulence<a class="headerlink" href="#Getting-the-12x24-matrix-of-turbulence" title="Permalink to this headline">¶</a></h3>
<p>The 12x24 matrix of turbulence is useful for seeing how the TI varies throughout the year. It shows the average turbulence for each hour of the day and for each month of the year.</p>
<div style="margin-top: 3em; margin-bottom: 3em;"></div><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">bw</span><span class="o">.</span><span class="n">TI</span><span class="o">.</span><span class="n">twelve_by_24</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Spd80mN</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">Spd80mNStd</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Month</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
    </tr>
    <tr>
      <th>Hour</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.123298</td>
      <td>0.127858</td>
      <td>0.132076</td>
      <td>0.139142</td>
      <td>0.139856</td>
      <td>0.118668</td>
      <td>0.142162</td>
      <td>0.134350</td>
      <td>0.127003</td>
      <td>0.130014</td>
      <td>0.120780</td>
      <td>0.123587</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.123201</td>
      <td>0.130815</td>
      <td>0.136646</td>
      <td>0.136444</td>
      <td>0.149340</td>
      <td>0.122524</td>
      <td>0.130824</td>
      <td>0.130241</td>
      <td>0.131105</td>
      <td>0.128241</td>
      <td>0.116534</td>
      <td>0.129366</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.127529</td>
      <td>0.129643</td>
      <td>0.136712</td>
      <td>0.133500</td>
      <td>0.139576</td>
      <td>0.125087</td>
      <td>0.128889</td>
      <td>0.119857</td>
      <td>0.123331</td>
      <td>0.131344</td>
      <td>0.119824</td>
      <td>0.128259</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.126838</td>
      <td>0.130400</td>
      <td>0.136464</td>
      <td>0.138197</td>
      <td>0.141988</td>
      <td>0.126567</td>
      <td>0.127587</td>
      <td>0.131554</td>
      <td>0.126498</td>
      <td>0.129808</td>
      <td>0.127028</td>
      <td>0.124243</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.135728</td>
      <td>0.144298</td>
      <td>0.144407</td>
      <td>0.134473</td>
      <td>0.141474</td>
      <td>0.124459</td>
      <td>0.125384</td>
      <td>0.132680</td>
      <td>0.126264</td>
      <td>0.130177</td>
      <td>0.117818</td>
      <td>0.128227</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.130230</td>
      <td>0.135277</td>
      <td>0.139639</td>
      <td>0.128773</td>
      <td>0.128980</td>
      <td>0.119023</td>
      <td>0.127826</td>
      <td>0.136850</td>
      <td>0.120663</td>
      <td>0.128160</td>
      <td>0.115044</td>
      <td>0.131810</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.126320</td>
      <td>0.141140</td>
      <td>0.141834</td>
      <td>0.129834</td>
      <td>0.135211</td>
      <td>0.127730</td>
      <td>0.135631</td>
      <td>0.130856</td>
      <td>0.128388</td>
      <td>0.134495</td>
      <td>0.119158</td>
      <td>0.132965</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.131307</td>
      <td>0.142126</td>
      <td>0.137936</td>
      <td>0.138492</td>
      <td>0.137093</td>
      <td>0.130571</td>
      <td>0.140000</td>
      <td>0.135732</td>
      <td>0.132314</td>
      <td>0.121811</td>
      <td>0.126774</td>
      <td>0.136691</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0.124468</td>
      <td>0.142668</td>
      <td>0.141129</td>
      <td>0.141683</td>
      <td>0.149440</td>
      <td>0.136717</td>
      <td>0.143967</td>
      <td>0.145758</td>
      <td>0.136104</td>
      <td>0.124737</td>
      <td>0.123307</td>
      <td>0.127271</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.126294</td>
      <td>0.145591</td>
      <td>0.143226</td>
      <td>0.145519</td>
      <td>0.150014</td>
      <td>0.136577</td>
      <td>0.143980</td>
      <td>0.151626</td>
      <td>0.142062</td>
      <td>0.126898</td>
      <td>0.121963</td>
      <td>0.131016</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0.130001</td>
      <td>0.138173</td>
      <td>0.141617</td>
      <td>0.149271</td>
      <td>0.161478</td>
      <td>0.139885</td>
      <td>0.144885</td>
      <td>0.143630</td>
      <td>0.147945</td>
      <td>0.133367</td>
      <td>0.127976</td>
      <td>0.133389</td>
    </tr>
    <tr>
      <th>11</th>
      <td>0.132958</td>
      <td>0.146347</td>
      <td>0.145441</td>
      <td>0.157493</td>
      <td>0.155721</td>
      <td>0.146634</td>
      <td>0.144312</td>
      <td>0.146676</td>
      <td>0.154125</td>
      <td>0.135837</td>
      <td>0.128731</td>
      <td>0.134031</td>
    </tr>
    <tr>
      <th>12</th>
      <td>0.132495</td>
      <td>0.138591</td>
      <td>0.145740</td>
      <td>0.154551</td>
      <td>0.158121</td>
      <td>0.144148</td>
      <td>0.145068</td>
      <td>0.147703</td>
      <td>0.151267</td>
      <td>0.139552</td>
      <td>0.139960</td>
      <td>0.135619</td>
    </tr>
    <tr>
      <th>13</th>
      <td>0.135304</td>
      <td>0.134754</td>
      <td>0.145116</td>
      <td>0.153083</td>
      <td>0.153779</td>
      <td>0.146184</td>
      <td>0.147626</td>
      <td>0.143644</td>
      <td>0.146434</td>
      <td>0.136658</td>
      <td>0.130497</td>
      <td>0.139250</td>
    </tr>
    <tr>
      <th>14</th>
      <td>0.130852</td>
      <td>0.138478</td>
      <td>0.146039</td>
      <td>0.152753</td>
      <td>0.156182</td>
      <td>0.148084</td>
      <td>0.144676</td>
      <td>0.141140</td>
      <td>0.143679</td>
      <td>0.140105</td>
      <td>0.131583</td>
      <td>0.132048</td>
    </tr>
    <tr>
      <th>15</th>
      <td>0.126984</td>
      <td>0.136637</td>
      <td>0.148085</td>
      <td>0.150065</td>
      <td>0.155449</td>
      <td>0.151128</td>
      <td>0.139470</td>
      <td>0.139497</td>
      <td>0.148388</td>
      <td>0.133079</td>
      <td>0.141219</td>
      <td>0.127299</td>
    </tr>
    <tr>
      <th>16</th>
      <td>0.129137</td>
      <td>0.136645</td>
      <td>0.144660</td>
      <td>0.144193</td>
      <td>0.152020</td>
      <td>0.144948</td>
      <td>0.143914</td>
      <td>0.137312</td>
      <td>0.149131</td>
      <td>0.132714</td>
      <td>0.135752</td>
      <td>0.127104</td>
    </tr>
    <tr>
      <th>17</th>
      <td>0.131636</td>
      <td>0.131892</td>
      <td>0.137444</td>
      <td>0.138432</td>
      <td>0.146620</td>
      <td>0.136568</td>
      <td>0.136615</td>
      <td>0.135192</td>
      <td>0.138748</td>
      <td>0.133199</td>
      <td>0.133116</td>
      <td>0.131362</td>
    </tr>
    <tr>
      <th>18</th>
      <td>0.125875</td>
      <td>0.126344</td>
      <td>0.125465</td>
      <td>0.139556</td>
      <td>0.140156</td>
      <td>0.130648</td>
      <td>0.133082</td>
      <td>0.136368</td>
      <td>0.134938</td>
      <td>0.131969</td>
      <td>0.124545</td>
      <td>0.128202</td>
    </tr>
    <tr>
      <th>19</th>
      <td>0.121544</td>
      <td>0.126259</td>
      <td>0.127431</td>
      <td>0.130534</td>
      <td>0.135474</td>
      <td>0.127702</td>
      <td>0.133445</td>
      <td>0.133482</td>
      <td>0.127215</td>
      <td>0.134546</td>
      <td>0.120931</td>
      <td>0.132309</td>
    </tr>
    <tr>
      <th>20</th>
      <td>0.128158</td>
      <td>0.123049</td>
      <td>0.131153</td>
      <td>0.131193</td>
      <td>0.131277</td>
      <td>0.123628</td>
      <td>0.132033</td>
      <td>0.122578</td>
      <td>0.128675</td>
      <td>0.135552</td>
      <td>0.124711</td>
      <td>0.140587</td>
    </tr>
    <tr>
      <th>21</th>
      <td>0.127949</td>
      <td>0.123772</td>
      <td>0.126673</td>
      <td>0.139372</td>
      <td>0.129974</td>
      <td>0.116301</td>
      <td>0.122953</td>
      <td>0.118066</td>
      <td>0.124986</td>
      <td>0.137319</td>
      <td>0.130091</td>
      <td>0.131600</td>
    </tr>
    <tr>
      <th>22</th>
      <td>0.131022</td>
      <td>0.129903</td>
      <td>0.131806</td>
      <td>0.134071</td>
      <td>0.129140</td>
      <td>0.126089</td>
      <td>0.127458</td>
      <td>0.116963</td>
      <td>0.128107</td>
      <td>0.130918</td>
      <td>0.128626</td>
      <td>0.143479</td>
    </tr>
    <tr>
      <th>23</th>
      <td>0.122156</td>
      <td>0.128121</td>
      <td>0.126622</td>
      <td>0.137240</td>
      <td>0.141210</td>
      <td>0.118557</td>
      <td>0.136640</td>
      <td>0.130691</td>
      <td>0.133659</td>
      <td>0.129783</td>
      <td>0.124497</td>
      <td>0.137975</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<hr class="docutils" />
<div style="margin-top: 3em; margin-bottom: 3em;"></div></div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, BrightWind Analysis.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>